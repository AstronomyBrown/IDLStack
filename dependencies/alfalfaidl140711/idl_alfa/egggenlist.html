<!-- This file was generated by mk_html_help.pro -->
<html>
 
<head>
<TITLE>List of EGGGEN Commands with IDL Header Documentation</TITLE>
</head>
 
<body>
<H1>List of EGGGEN Commands with IDL Header Documentation</H1>
<P>
This page was created by the IDL library routine 
<CODE>mk_html_help</CODE>.  For more information on 
this routine, refer to the IDL Online Help Navigator 
or type: <P>
<PRE>     ? mk_html_help</PRE><P>
at the IDL command line prompt.<P>
<STRONG>Last modified: </STRONG>Fri Jun  6 17:52:00 2008.<P>
 
<HR>
 
<A NAME="ROUTINELIST">
<H1>List of Routines</H1></A>
<UL>
<LI><A HREF="#ABMPOS3">ABMPOS3</A>
<LI><A HREF="#AVEBMOFF">AVEBMOFF</A>
<LI><A HREF="#BEAMCORR1GAUSS">BEAMCORR1GAUSS</A>
<LI><A HREF="#BEAMCORR2GAUSS">BEAMCORR2GAUSS</A>
<LI><A HREF="#BLOCKSCHED">BLOCKSCHED</A>
<LI><A HREF="#BSTEINTORC3">BSTEINTORC3</A>
<LI><A HREF="#CARTES">CARTES</A>
<LI><A HREF="#CARTTOLBR">CARTTOLBR</A>
<LI><A HREF="#CAT_HISTS_DISTANCE">CAT_HISTS_DISTANCE</A>
<LI><A HREF="#CAT_HISTS_GALCAT">CAT_HISTS_GALCAT</A>
<LI><A HREF="#CMPMOVETIME">CMPMOVETIME</A>
<LI><A HREF="#CONE_PLOT_OPT">CONE_PLOT_OPT</A>
<LI><A HREF="#COORDS_DIST">COORDS_DIST</A>
<LI><A HREF="#CORRECTEDBOVERA">CORRECTEDBOVERA</A>
<LI><A HREF="#CORR_MAG_2MASS">CORR_MAG_2MASS</A>
<LI><A HREF="#CORR_MAG_VAGC">CORR_MAG_VAGC</A>
<LI><A HREF="#CZDISTRIB">CZDISTRIB</A>
<LI><A HREF="#DIGITALHI">DIGITALHI</A>
<LI><A HREF="#DISTANCE_CATALOG">DISTANCE_CATALOG</A>
<LI><A HREF="#EPSINIT">EPSINIT</A>
<LI><A HREF="#EPSTERM">EPSTERM</A>
<LI><A HREF="#FACEON">FACEON</A>
<LI><A HREF="#FLUXCORRECTION">FLUXCORRECTION</A>
<LI><A HREF="#GETCOMMENTS">GETCOMMENTS</A>
<LI><A HREF="#GROUP_PRIMARIES">GROUP_PRIMARIES</A>
<LI><A HREF="#GUESS_ROTANG">GUESS_ROTANG</A>
<LI><A HREF="#HIABSHG">HIABSHG</A>
<LI><A HREF="#HISTOGRAM_EZ">HISTOGRAM_EZ</A>
<LI><A HREF="#INCLINATION">INCLINATION</A>
<LI><A HREF="#KLMFLOW">KLMFLOW</A>
<LI><A HREF="#LIST_COORDS">LIST_COORDS</A>
<LI><A HREF="#LIST_COORDS_SDSS">LIST_COORDS_SDSS</A>
<LI><A HREF="#LSTTOAZRT">LSTTOAZRT</A>
<LI><A HREF="#MAG_CORR_SDSS">MAG_CORR_SDSS</A>
<LI><A HREF="#MAG_VAGC">MAG_VAGC</A>
<LI><A HREF="#MAKEDOC">MAKEDOC</A>
<LI><A HREF="#MATCH2MASS">MATCH2MASS</A>
<LI><A HREF="#MATCH_SDSS">MATCH_SDSS</A>
<LI><A HREF="#MATCH_VAGC">MATCH_VAGC</A>
<LI><A HREF="#MYDELTAV">MYDELTAV</A>
<LI><A HREF="#MYFLOWMODEL">MYFLOWMODEL</A>
<LI><A HREF="#MYFLOWMODELCALL">MYFLOWMODELCALL</A>
<LI><A HREF="#OPTANG">OPTANG</A>
<LI><A HREF="#OPTANGHA">OPTANGHA</A>
<LI><A HREF="#OPTANGTAB">OPTANGTAB</A>
<LI><A HREF="#READ_2MASS">READ_2MASS</A>
<LI><A HREF="#READ_ALFALFACAT">READ_ALFALFACAT</A>
<LI><A HREF="#READ_CSV_SDSS">READ_CSV_SDSS</A>
<LI><A HREF="#SC">SC</A>
<LI><A HREF="#SFEROD">SFEROD</A>
<LI><A HREF="#SRCVIS">SRCVIS</A>
<LI><A HREF="#SSGC">SSGC</A>
<LI><A HREF="#TYPEESGC">TYPEESGC</A>
<LI><A HREF="#TYPEREVERT">TYPEREVERT</A>
<LI><A HREF="#VHEL_TO_CMB[1]">VHEL_TO_CMB[1]</A>
<LI><A HREF="#VHEL_TO_CMB[2]">VHEL_TO_CMB[2]</A>
<LI><A HREF="#ZBRAKVEL">ZBRAKVEL</A>
<LI><A HREF="#ZBRENTVEL">ZBRENTVEL</A>
</UL><P>
 
<HR>
 
<H1>Routine Descriptions</H1>
<A NAME="ABMPOS3">
<H2>ABMPOS3</H2></A>
<A HREF="#AVEBMOFF">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME: 
	ABMPOS3

PURPOSE:
	To compute alfa beam positions (ra,dec 2000) from az, za, jd beam 0.

SYNTAX: 
	ABMPOS3,az,za,jd,rahr,decDeg,azoff,zaoff,azl,zal,dr,dd,rotAngl=rotAngl

INPUTS:
	az[n] -  float - azimuth of central pixel in degrees
	za[n] - float - zenith angle of central pixel in degrees
	jd[n] - double - julian date for each az,za. Should include the fraction
                  of the day.

KEYWORDS:
	rotAngl - float - rotation angle (deg)of alfa rotator. default is 0 degrees.
                   sitting on the rotator floor, positive is clockwise.

OUTPUTS:
	rahr - output RA in hours
	decdeg - output Dec in degrees

OUTPUTS:
	raHrs[7,n] - float - ra(2000) in hours for the 7 beams and the n positions.
	decDeg[7,n] - float - declination(2000) in degrees for the 7 beams and n positions.

MODIFICATION HISTORY:
	Documentation up-to-date as of July 2006.
</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/Abmpos3.pro)</STRONG><P>
<HR>
 
<A NAME="AVEBMOFF">
<H2>AVEBMOFF</H2></A>
<A HREF="#ABMPOS3">[Previous Routine]</A>
<A HREF="#BEAMCORR1GAUSS">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME: 
	AVEBMOFF

PURPOSE:
	To compute alfa beam positions (ra,dec 2000) from az, za, jd.
	Computes avg. sep. between adjacent beams.
	http://www.astro.cornell.edu/~galaxy/docs/figbeams.pdf
	based on Phil's alfabeampos.pro

SYNTAX:
	avebmoff,az,za,jd,maxoff,aveoff,rotAngl=rotAngle
	
INPUTS:
	az[n] - float - azimuth of central pixel in degrees
	za[n] - float - zenith angle of central pixel in degrees
	jd[n] - double - julian date for each az,za. Should include the fraction
                  of the day.

OUTPUTS:
	maxoff - double - maximum separation in declination of specific
                adjacent beams (ALFALFA drift configuration)
	aveoff - double - average separation in declination of specific
                adjacent beams (ALFALFA drift configuration)
   
KEYWORDS:
	rotAngl - float - rotation angle (deg)of alfa rotator. default is 0 degrees.
                   sitting on the rotator floor, positive is clockwise.

NOTES:
	This routine is normally called by OPTANG and OPTANGTAB
	It calculates the average declination spacing of adjacent beams
	for the "standard" E-ALFA drift configuration

MODIFICATION HISTORY:
	05Nov04  Originally written by the Cornell EGGfolks
	12Nov04  Added documentation  (mph)

</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/avebmoff.pro)</STRONG><P>
<HR>
 
<A NAME="BEAMCORR1GAUSS">
<H2>BEAMCORR1GAUSS</H2></A>
<A HREF="#AVEBMOFF">[Previous Routine]</A>
<A HREF="#BEAMCORR2GAUSS">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME: 
	BEAMCORR1GAUSS

PURPOSE:
	To correct for beam dilution. beamdiluchoice=1 calls BEAMCORR1GAUSS.

SYNTAX: 
	result=BEAMCORR1GAUSS(hidiam,cos2I,telcode)

INPUTS: 
	hidiam - in arcmin
	cos2I - from fluxcorrection
	telcode - telescope code (string)

OUTPUTS: 
	bc1gauss - the correction factor, used in FLUXCORRECTION

</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/fluxcorr.pro)</STRONG><P>
<HR>
 
<A NAME="BEAMCORR2GAUSS">
<H2>BEAMCORR2GAUSS</H2></A>
<A HREF="#BEAMCORR1GAUSS">[Previous Routine]</A>
<A HREF="#BLOCKSCHED">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME: 
	BEAMCORR2GAUSS

PURPOSE:
	To correct for beam dilution. beamdiluchoice=0 calls BEAMCORR2GAUSS.

SYNTAX: 
	result=BEAMCORR2GAUSS(hidiam,cos2I,telcode)

INPUTS: 
	hidiam - in arcmin
	cos2I - from fluxcorrection
	telcode - telescope code (string)

OUTPUTS: 
	bc2gauss - the correction factor, used in FLUXCORRECTION

</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/fluxcorr.pro)</STRONG><P>
<HR>
 
<A NAME="BLOCKSCHED">
<H2>BLOCKSCHED</H2></A>
<A HREF="#BEAMCORR2GAUSS">[Previous Routine]</A>
<A HREF="#BSTEINTORC3">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
	BLOCKSCHED

PURPOSE:
	Calculates LSF start/stop times for AST time block
	on a given day. Redundant calculation allows for tidiness.

SYNTAX:
	blocksched, yymmdd,ast1HHMM,ast2HHMM

EXAMPLE:
	blocksched,050124L,0200L,0615L

MODIFICATION HISTORY:
	Cornell EGG IDL routine
	04Dec12   --- mph

</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/blocksched.pro)</STRONG><P>
<HR>
 
<A NAME="BSTEINTORC3">
<H2>BSTEINTORC3</H2></A>
<A HREF="#BLOCKSCHED">[Previous Routine]</A>
<A HREF="#CARTES">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME: 
	BSTEINTORC3

 PURPOSE:
	Converts Burstein's type codes to a RC3 type system.
	See TYPEESGC for a description of Burstein types.

 SYNTAX:
	BSTEINTORC3,bsteintype, rc3type, bar

 INPUTS:
	bsteintype - Burstein type - integer

 OUTPUTS:
	rc3type	- RC3 type - integer
	bar - string variable designating status - 'B' for barred galaxies, '' otherwise

 MODIFICATION HISTORY:
       Written  MH&RG
       Converted to IDL   A.Martin   June 2006
</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/bsteintorc3.pro)</STRONG><P>
<HR>
 
<A NAME="CARTES">
<H2>CARTES</H2></A>
<A HREF="#BSTEINTORC3">[Previous Routine]</A>
<A HREF="#CARTTOLBR">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME: 
	CARTES

PURPOSE:
	Calculates the separation between two objects. Input and output in radians!

SYNTAX: 
	result=CARTES(r1,r2,d1,d2)

INPUTS: 
	r1 - RA of object one in rad
	r2 - RA of object two in rad
	d1 - Dec of object one in rad
	d2 - Dec of object two in rad
OUTPUTS: 
	result - separation of objects in rad

MODIFICATION HISTORY:
	Converted to IDL A. Martin June 2006
</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/cartes.pro)</STRONG><P>
<HR>
 
<A NAME="CARTTOLBR">
<H2>CARTTOLBR</H2></A>
<A HREF="#CARTES">[Previous Routine]</A>
<A HREF="#CAT_HISTS_DISTANCE">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	CARTTOLBR

 PURPOSE: 
	Converts Cartesian coordinates to l,b,r in radians.

 EXPLANATION:
	Input is x,y,z, output is r in same units and l and b in radians.
	SUPERGALACTIC x,y,z, l=SGL, b=SGB. 

 SYNTAX:
       CARTTOLBR, x, y, z, l, b, r 

 INPUTS:
       x, y, z - Cartesian coordinates
	

 OUTPUTS:
	l, b, r - Galactic coordinates; l,b, in radians, r in units of x,y,z

 MODIFICATION HISTORY:
	Written	KLM	May 2003
       Converted to IDL   A. Martin   June 2006
</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/flowmodel_dist.pro)</STRONG><P>
<HR>
 
<A NAME="CAT_HISTS_DISTANCE">
<H2>CAT_HISTS_DISTANCE</H2></A>
<A HREF="#CARTTOLBR">[Previous Routine]</A>
<A HREF="#CAT_HISTS_GALCAT">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
	CAT_HISTS_DISTANCE
PURPOSE:
 	Makes EPS plots of the cz, w50, integrated flux, SNR, and mass histograms for
	a catalog input in the *.table format (the output of distance_catalog.pro).
	Uses the mass estimates from distance_catalog.pro for the HI mass histogram.

	The height of the y-axis and the bin size for each histogram is set in the first few lines
	of the program.

	NOTE: Requires epsinit.pro and epsterm.pro to be compiled.

CALLING SEQUENCE:
	CAT_HISTS_DISTANCE, CATNAME

INPUTS:
	CATNAME - filename of the input catalog, in *.table format (the output of distance_catlog.pro).

OUTPUTS:
	hist_plots_mass.eps - an EPS plot with the 5 histograms stacked on top of each other.
	
REVISION HISTORY:
	Created 2007 A. Saintonge
	Documented July 2007, Ann Martin
	

</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/cat_hists_distance.pro)</STRONG><P>
<HR>
 
<A NAME="CAT_HISTS_GALCAT">
<H2>CAT_HISTS_GALCAT</H2></A>
<A HREF="#CAT_HISTS_DISTANCE">[Previous Routine]</A>
<A HREF="#CMPMOVETIME">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
	CAT_HISTS_GALCAT
PURPOSE:
 	Makes EPS plots of the cz, w50, integrated flux, and SNR histograms for
	a catalog input in the standard catalog format output by GALCAT. For the final
	product (the figure in an ALFALFA paper), we include a histogram of the mass as well,
	so this program serves as a first check.

	The height of the y-axis and the bin size for each histogram is set in the first few lines
	of the program.

	NOTE: Requires epsinit.pro and epsterm.pro to be compiled.

CALLING SEQUENCE:
	CAT_HISTS_GALCAT, CATNAME

INPUTS:
	CATNAME - filename of the input catalog, in standard GALCAT format.

OUTPUTS:
	hist_plots_nomass.eps - an EPS plot with the 4 histograms stacked on top of each other.

NOTES:
	The bin sizes for each are currently set as:
	cz: 500 km/s
	W50: 25 km/s
	log10 (Flux Integral): 0.1
	log10 S/N: 0.1

	Riccardo, on the other hand, used 250, 10, 0.04, 0.025, and 0.1 for cz, W50, log10 Flux integral, log10 S/N, and log10 HI Mass
	
	
REVISION HISTORY:
	Created 2007 A. Saintonge
	Documented July 2007, Ann Martin

</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/cat_hists_galcat.pro)</STRONG><P>
<HR>
 
<A NAME="CMPMOVETIME">
<H2>CMPMOVETIME</H2></A>
<A HREF="#CAT_HISTS_GALCAT">[Previous Routine]</A>
<A HREF="#CONE_PLOT_OPT">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
	CMPMOVETIME
PURPOSE:
	Calculate the time it will take to move from az1, za1
	to az2, za2.
	This calculation leaves out the pointing model.

SYNTAX:
	CMPMOVETIME,jd1,jd2,raH,decD,move,move_jd

INPUTS:
	jd1 - JD at the start of the preceding drift; the telescope
		will be there before the move.
	jd2 - planned start of the following drift.
	raH,decD - coordinates of the source.

OUTPUTS:
	move, move_jd - output of move time in two formats, seconds and JD.

NOTES:
	Called by lsttoazRT.pro; looking there might give you a better idea
	of how cmpmovetime works and is useful.

MODIFICATION HISTORY:
       Written  MH&RG
       Converted to IDL   A.Martin   June 2006
</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/cmpmovetime.pro)</STRONG><P>
<HR>
 
<A NAME="CONE_PLOT_OPT">
<H2>CONE_PLOT_OPT</H2></A>
<A HREF="#CMPMOVETIME">[Previous Routine]</A>
<A HREF="#COORDS_DIST">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
	CONE_PLOT_OPT
PURPOSE:
 	Makes EPS cone plots of (1) ALFALFA galaxies in a given RA, DEC range and
	(2) AGC galaxies with non-zero optical redshifts LT 18000 km/s in the same range.
	Each plot is labeled ("ALFALFA" or "Opt") with the number of galaxies in the plot listed.

       PLEASE NOTE THAT THE OUTPUT OF CONE_PLOT_OPT IS HIGHLY SENSITIVE TO YOUR INPUT PARAMETERS,
	and to the characteristics of your galaxy catalog. It it HIGHLY LIKELY that you will need
       to custom-modify this code to suit your purposes and your catalog. See the "Notes"
	section for some helpful hints. The code is also pretty well commented and includes some
	helpful examples of how to modify certain steps.

	NOTE: Requires epsinit.pro and epsterm.pro to be compiled.

CALLING SEQUENCE:
	CONE_PLOT_OPT, CATNAME,ramin=ramin,ramax=ramax,racen=racen,decmin=decmin,decmax=decmax,czmax=czmax,width=width,height=height

EXAMPLE:
	cone_plot_opt,'ameliecatalog.dat',ramin=22.,ramax=3.,racen=.5,decmin=26.,decmax=28.,czmax=18000,width=8,height=10

INPUTS:
	CATNAME - filename of the input catalog, in standard GALCAT format. Should be headerless.
	RAMIN - low end of the RA range, in hours (for 0 crossings, the min RA will be larger than the max RA -- 
			i.e. for a range from 22 hours to 3 hours, RAMIN=22, while for a range from 17 hours to
			22 hours, RAMIN=17.)
	RAMAX - high end of the RA range, in hours (for 0 crossings, the max RA will be smaller than the min RA --
			i.e. for a range from 22 hours to 3 hours, RAMAX=3, while for a range from 17 hours to
			22 hours, RAMAX=22.)
	RACEN - the center of the RA range, in hours (i.e. for a range from 22 hours to 3 hours, RACEN=0.5)
	DECMIN - minimum declination (used for object selection from catalog & from AGC)
	DECMAX - maximum declination
	CZMAX - maximum cz for plots (note that the absolute maximum is 18000)
	WIDTH - width of eps plot, in inches.
	HEIGHT - height of eps plot, in inches.;	

OUTPUTS:
	cone_plot.eps - an EPS plot with the 2 cone plots stacked on top of each other.

NOTES:
	Should you want to add something to this code, please note that the input variables ramin, ramax, and racen are changed
	in line ~186 (to degrees) while retaining the same variable name. The variables optramin and optramax retain the original
	value, in degrees.

	REGIONS OF CODE LIKELY TO NEED ADAPTATION BY EACH USER:
	Labels: Lines 85 to 87 define default RA labels based on the minimum, maximum, and central RA. The format is F4.1, i.e., an
		RA of 9:40 will appear as 9.6 but an RA of 22 will appear as 22.0. To fit your specific coneplot and RA range,
		you may want to adjust these definitions. You can also hand-create and place your labels.

	Ngal: A variable called "ngal" can be found in line 94; it defines the maximum number of ALFALFA galaxies that will be read
		in, so if you have a larger catalog, you'll want to adjust upwards.
	Headers: By default, the catalog read in should not have any header information, but if the 3 lines of headers still remain,
			uncommenting lines 99 and 100 should accomplish that.

	ALFALFA selection: As defined in line 229, ALL galaxies in the ALFALFA catalog coded as 1 or 2 and lying within the correct dec 
				& cz range are included. If your catalog includes objects outside of your intended RA range, or
				you want to apply other criteria, please be sure to edit this line.
	Optical selection: An optically-selected sample is pulled from the AGC in lines 349 to 355. If you want to add magnitude
				or other limits to your optically-selected AGC sample, do so here.

	Lines of constant RA: see line 297 (for ALFALFA) or line 407 (for optical). The code will automatically plot "boundary" lines of
				constant RA at either edge and in the center of your plot. For wider RA ranger, you may want to include more
				such lines. To do so, calculate the desired RA in degrees and then define a new "t" - ie, for 10 hours,
				t10=fltarr(1000)+(150.-racen)*!pi/180.+!pi/2. The new line can then be plotted.
	CZ axis labels: See line 317 (for ALFALFA) or line 426 (for optical). The code will apply labels along the cz axis at 5000, 10000, and
				15000, but the x & y coordinates will need to be adjusted for your particular cone diagram. 

	RA axis labels: See line 324 (for ALFALFA) line 432 (for optical). The code will attempt to label the RA axis (see Labels, above) but
				the x & y coordinates will need to be adjusted for your particular cone diagram.
	
REVISION HISTORY:
	Created 2007 A. Saintonge
	Documented July 2007, Ann Martin

</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/cone_plot_opt.pro)</STRONG><P>
<HR>
 
<A NAME="COORDS_DIST">
<H2>COORDS_DIST</H2></A>
<A HREF="#CONE_PLOT_OPT">[Previous Routine]</A>
<A HREF="#CORRECTEDBOVERA">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
	COORDS_DIST
PURPOSE:
	To use flowmodels to determine distances to galaxies with coordinates provided by
	the calling program.
	
	This routine calls flowmodel_dist.pro for a set of galaxy input coordinates and outputs
	three variables, called distance, edist and flag, which give the distance estimate
	in km/s, the error estimate in km/s, and a flag which indicates potential problems
	with the output.
	
	Coordinates can be entered in the expected GALFLUX format, hhmmss.s+ddmmss. Therefore,
	for GALFLUX, the sourcename would be the radec_cen variable.

SYNTAX:
	COORDS_DIST,sourcevel,sourcename=sourcename,distance, edist, flag

INPUTS:
	sourcename - a string, the source name from GALFLUX in HHMMSS.S+DDMMSS
	sourcevel - the source velocity in km/s

OUTPUTS:
	distance - distance, selected by the program, reported for input coordinates, in units of km/s
	edist - error, estimated by the program, in km/s
	flag - integer; an output flag to indicate possible problems; see notes.
	
REVISION HISTORY:
       Written  A.Martin   June 2006

NOTES:
       FLAG    (INT)   Flag to indicate possible problems
                       0: No distance found. Usually close to D=0Mpc
                       1: Everything is fine, single valued distance
                      2: Double valued distance
                      3: Triple valued distance
                      10: Assigned to Virgo Core
                      11: Near Virgo (within 6Mpc which is region where SB00 
                          claim that model is "uncertain"), single valued 
                      12: Near Virgo (within 6Mpc which is region where SB00 
                          claim that model is "uncertain"), double valued 
                      13: Near Virgo (within 6Mpc which is region where SB00 
                          claim that model is "uncertain"), triple valued 
                      20: Assigned to GA Core
                      21: Near GA (within 10Mpc which is region where SB00 
                          claim that model is "uncertain"), single valued
                      22: Near GA (within 10Mpc which is region where SB00 
                          claim that model is "uncertain"), double valued
                      23: Near GA (within 10Mpc which is region where SB00 
                          claim that model is "uncertain"), triple valued
                      30: Assigned to Core of Fornax cluster

 
</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/coords_dist.pro)</STRONG><P>
<HR>
 
<A NAME="CORRECTEDBOVERA">
<H2>CORRECTEDBOVERA</H2></A>
<A HREF="#COORDS_DIST">[Previous Routine]</A>
<A HREF="#CORR_MAG_2MASS">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME: 
	CORRECTEDBOVERA

PURPOSE:
	Uses Lewis (1980) to correct for visual underestimate
	of axial ratio b/a, with decreasing b/a

SYNTAX: 
	result=CORRECTEDBOVERA(visualratio)

INPUTS: 
	visualratio - b/a
OUTPUTS: 
	corbovera - the corrected visual ratio, used by INCLINATION

MODIFICATION HISTORY:
       Written  MH&RG
       Converted to IDL   A.Martin   June 2006
</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/inclination.pro)</STRONG><P>
<HR>
 
<A NAME="CORR_MAG_2MASS">
<H2>CORR_MAG_2MASS</H2></A>
<A HREF="#CORRECTEDBOVERA">[Previous Routine]</A>
<A HREF="#CORR_MAG_VAGC">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
       CORR_MAG_2MASS

PURPOSE:
       To take a catalog that has been run through match2mass with
       both 2mass and ALFALFA data and output a catalog that contains
       corrected 2mass magnitudes.

SYNTAX:
       CORR_MAG_2MASS, incat, outcat, (/ext), (/iso), (/kmag),
       (/hmag), (/jmag), (/noint)


INPUTS:
       alfafile - the full pathname of an ALFALFA catalog

       twomassfile - the full pathname of the corresponding 2MASS
                     catalog for the given ALFALFA catalog


OUTPUTS:
       outcat - an output catalog that contains all the information
                of the input catalog plus the corrected magnitudes

KEYWORDS:
       /iso - correct the isophotal magnitudes
       /ext - correct the extrapolated magnitudes
       /jmag - correct the J mags
       /hmag - correct the H mags
       /kmag - correct the K mags
       /noint - don't apply the correction for internal extinction

EXAMPLE:
       corr_mag_2mass,'CR1_catalog.dat','twomass_sources.txt',outcat,/ext,/jmag,/kmag,/noint

NOTES:
       This program applies Galactic and internal extinction
       corrections to 2mass magnitudes.  The user has the option of
       not applying the internal extinction corrections.  K corrections are not
       available at this time.

       The user must specify which magnitude system(s) and which
       band(s) are to be used.  If none are specified, the procedure
       will not correct any magnitudes.

REVISION HISTORY:
       Written B. Adams  July 2007

</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/corr_mag_2mass.pro)</STRONG><P>
<HR>
 
<A NAME="CORR_MAG_VAGC">
<H2>CORR_MAG_VAGC</H2></A>
<A HREF="#CORR_MAG_2MASS">[Previous Routine]</A>
<A HREF="#CZDISTRIB">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
       CORR_MAG_VAGC

PURPOSE:
       To match an ALFALFA catalog to the VAGC and produce extinction
       correct B magnitudes

SYNTAX:
       CORR_MAG_VAGC, alfafile, vagc, outcat, (/petro),(/model), (/noint)

INPUTS:
       alfafile - the full pathname of an ALFALFA catalog

       vagc - the pathname of the vagc (alfalfa limited) sav file

OUTPUS:
       outcat - an output structure that will contain blue magnitudes
                for ALFALFA sources

KEYWORDS:
       petro - if this flag is set, B band magnitudes will be
               calculated from the Petrosian Sloan magnitudes
       model - if this flag is set, B band magnitudes will be
               calculated from the model Sloan magnitudes
       noint - don't apply the internal extinction correction

EXAMPLE:
       corr_mag_vagc,'CR1_catalog.dat','vagc/sdssimaging_alfalfa.sav',mbcat,/petro

NOTES:

REVISION HISTORY:
       Written B. Adams August 2007

</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/corr_mag_vagc.pro)</STRONG><P>
<HR>
 
<A NAME="CZDISTRIB">
<H2>CZDISTRIB</H2></A>
<A HREF="#CORR_MAG_VAGC">[Previous Routine]</A>
<A HREF="#DIGITALHI">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
	CZDISTRIB
PURPOSE:
	To read a catalog file in the tabular format (*.table, the output of distance_catalog) and 
	plot the observed redshift distribution against an expected redshift distribution
	based on an input HIMF in Schechter form. The code does apply a completeness correction,
	but does not account for the average spectral weights as a function of redshift.

	NOTE: HVCs are left out of this analysis. Additionally, epsinit.pro and epsterm.pro
	must be compiled to run this program.

SYNTAX:
	CZDISTRIB, input_file_name,H0,phi_star,logm_star,alpha

INPUTS:
	input_file_name - the full name of an input file in Riccardo's format, including directory structure.
	H0 - value of the Hubble parameter (70.0 for ALFALFA)
	PHI_STAR - value of phi_star in the selected HIMF
	LOGM_STAR - value of log(M*) in the selected HIMF
	ALPHA - faint-end slope in the selected HIMF
	

OUTPUTS:
	cz_distribution.eps - EPS plot of the redshift distribution histogram (bin size 250 km/s) with
				the expected redshift distribution overplotted as a dashed curve.
	

EXAMPLE:
	czdistrib,'CR5.table',70.0,0.0086,9.79,(-1.30)

	

REVISION HISTORY:
       Written	A.Martin   March 2006

</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/czdistrib.pro)</STRONG><P>
<HR>
 
<A NAME="DIGITALHI">
<H2>DIGITALHI</H2></A>
<A HREF="#CZDISTRIB">[Previous Routine]</A>
<A HREF="#DISTANCE_CATALOG">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	DIGITALHI
 PURPOSE:
       IDL Browser for the DIGITAL HI ARCHIVE

 EXPLANATION:

       IDL Browser to display HI data and catalog from Springob et al. 2005 ApJS.  "A Digital 
             HI Archive."  Data is read from table3 of the paper (detections table), and corresponding history
	      files and ordinal location numbers are read from the master archive file.  The catalog
	      entry is displayed, the spectrum, location of the peak flux density, and baseline fit are shown.
	      The browser queries DSS2 Blue images, and displays an 8 arcminute image, if available.       


 SYNTAX:
       digitalhi, agc=agc

 INPUTS:
       None at command line


 OPTIONAL INPUT:


 OPTIONAL INPUT KEYWORD:

          AGC:  display a galaxy profile from startup, if desired.

 OUTPUTS:
       none


 RESTRICTIONS:

       As of now, name resolver is only for agc/ugc number.  Browser
       shows images that are 8 arcminutes acriss

 EXAMPLE:

       Pretty straight forward:  digitalhi, agc=1

 PROCEDURES USED:
         DSSQUERY, GSFC IDL USER'S LIBRARY
         READHISFILE:  Reads history files given the filename and ord location in the file
         HOR.  See pjp AO library
         VER.  See pjp AO library



 MODIFICATION HISTORY:
       WRITTEN, B. Kent, Cornell U., August 2005


</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/digitalhi.pro)</STRONG><P>
<HR>
 
<A NAME="DISTANCE_CATALOG">
<H2>DISTANCE_CATALOG</H2></A>
<A HREF="#DIGITALHI">[Previous Routine]</A>
<A HREF="#EPSINIT">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
	DISTANCE_CATALOG
PURPOSE:
	To determine distances for objects in a formatted catalog. 
	This program will read an AGC-formatted catalog or an ALFALFA
	formatted catalog (the output from GALCAT) and calculate distances
	using all available distance estimation techniques (pure Hubble flow,
	the KLM flow model, and comparison to known groups and objects with known
	primary distances. The best distance estimation method is selected based on
	ALFALFA criteria. A mass for each object is also calculated.

	This information is then output in a series of useful files, depending on whether
	the input catalog was AGC or GALCAT formatted. In the case of an AGC formatted catalog,
	the output will include the AGC number, the coordinates, the adopted heliocentric velocity
	(since in the case of the AGC, there are often both optical and 21cm hel vels recorded),
	the distance, the distance error, and a flag. The output files are different for
	a GALCAT catalog, and include a TEX table for insertion in ALFALFA papers.

	In the case of a GALCAT-formatted catalog, only objects of category 1 or 2
	will have distances and masses calculated. Only these objects will appear
	in the output files.

	Note that these catalogs contain heliocentric velocity measurements. These
	are converted to CMB rest-frame velocities within the code.

CALLING SEQUENCE:
	DISTANCE_CATALOG,INPUT_FILE_TYPE,INPUT_FILE_NAME,OUTPUT_FILE_STRING	

EXAMPLE:
	DISTANCE_CATALOG,0,'../catalogs/CR1catalog.dat','CR1'


REQUIRES:
	Must first compile the flow model software using "@egggeninit."
	This code uses the code contained in "flowmodel_dist" in egggen, and explicitly
	calls myflowmodelcall.

INPUTS:
	INPUT_FILE_TYPE - INTEGER - a code indicating whether the input catalog is in AGC format (0)
				or in GALCAT catalog format (1). No other value is accepted.

	*************NOTE: Input files may not have header lines. The first line must contain data
				in the proper format!***************

	INPUT_FILE_NAME - STRING - a string indicating the location of the input file. Must be in the
				format specified by INPUT_FILE_TYPE
	OUTPUT_FILE_STRING - STRING - a string indicating the naming convention to be used for output
					files. i.e., in the case where OUTPUT_FILE_STRING='CR1', the
					output files will be CR1.tex, CR1.table and CR1.info. Can also
					use to indicate a subdirectory, i.e. OUTPUT_FILE_STRING='test1/CR1'.

OUTPUTS:

	SCREEN WARNINGS - In some cases, distances & masses will need to be investigated by hand. One particular
				example is when the flow model returns a distance of 0 (which will lead to a
				log(himass) of -Inf). In this case, a warning is printed to the screen:
				"WARNING! Object number ## has 0 distance and infinite mass!"
				In this case, the distance and the mass should be removed by hand from the
				LATEX table and the .table file. However, it is also wise to try to figure out
				why the distance was found to be zero and to consult the EGG group about a
				better estimate.

				It is also worth noticing that HVCs will have neither distances nor masses estimated.

				Please keep in mind that the flow model code produces distances, errors, AND a warning flag
				(see notes section) -- it's wise to look over these flags before accepting the distance & mass estimates!

	The output files for a GALCAT-formatted catalog is as follows:
	OUTPUT_FILE_STRING.tex - a file with the LATEX code necessary for an ALFALFA paper (as in papers III and V).
					There are some special notes to keep in mind. In the case where no optical counterpart is
					identified, blank spaces are printed in the table (rather than zeroes). Blank spaces are also
					printed for the distance & mass estimates in the case of a high velocity cloud.
					The columns are:
					catalog number, AGC number, HI Right Ascension, HI Declination, Optical R.A., Optical Dec,
					cz (km/s), W50, integrated flux (Jy km/s), integrated flux error, SNR, RMS, D (Mpc), log(M) (Msun)
					and the detection code.

					Please note that in PUBLISHED CATALOGS, each catalog number should be prefixed by the Catalog Release
					code, i.e. Riccardo's paper was CR1, Amelie's was CR2, etc. To do this, you simply need to alter
					the format statement in each section of the code where lines are written to texlun, from
					"printf,texlun,catnr,agcnumber . . . format="(i5,'  & ',i6,' . . .. . . ." to "format="('2-',i5 . . . ."
					Then the table will read 2-    1 through 2-xxxxx.

	OUTPUT_FILE_STRING.table - a file in the same format as the above, without the TEX markup. 
					Here are the column names & the format statement for reading the table file:
					readf,newlun,catnr,agcnumber,rah,ram,ras,sign,decd,decm,decs,optrah,optram,optras,optsign,$
					optdecd,optdecm,optdecs,cz,w50,werr,flux,fluxerr,snr,rms,distmpc,loghimass,code,$					
					format='(i5,2x,i6,7x,i2,1x,i2,1x,f4.1,8x,a1,i2,1x,i2,1x,i2,7x,i2,1x,i2,1x,f4.1,8x,a1,i2,1x,i2,$
					1x,i2,2x,i6,2x,i5,2x,i3,2x,f6.2,2x,f4.2,2x,f7.1,2x,f6.2,2x,f6.1,2x,f6.2,2x,i1)'
				
					Before reading, remember to pre-define strings: sign='' and optsign='', and to remove the header lines
					from the file.

	OUTPUT_FILE_STRING.info - a version for internal use only with full information included. Includes the 
					calculated distance for each galaxy, and flags indicating how the distance
					was estimated. Columns are as follows: AGC number, coordinates (hhmmss.s+ddmmss), heliocentric
					velocity, distance (Mpc), distance error (Mpc), flowmodel flag, distance source flag. See the 
					notes section for a full explanation of the flags. See also OUTPUT_FILE_STRING.agc for further
					discussion.


	The output file for an AGC-formatted catalog is as follows:
	OUTPUT_FILE_STRING.agc - a file with the AGC number, coordinates, adopted heliocentric velocity,
				calculated distance, the distance error, and 2 flags. The first flag indicates
				the "flow model" flag (see notes); if this is any value other than -1, it means
				a flow model was used to calculate the distance, and care should be taken. The second
				flag indicates how the distance was estimated, as defined in the Notes section below.
				Note that in some cases, a distance cannot be measured (because there is not adequate
				velocity information for a given AGC source in the AGC). In such a case, the line is skipped,
				and a warning is printed to the screen.	This could be changed (so that a line is printed for
				every AGC entry) if it starts to become a problem!
				The print statement is reproduced here, so that the file can be read easily:
				printf,distlun,agcnumber,rah,ram,ras10,sign,decd,decm,decs,pickvel,distgal,edistgal,$
				flowmodelflag,distflaggal,format='(I6,1X,2I02,I03,A1,3I02,1X,I5,1X,F8.2,1X,F8.2,1X,I2,1X,I2)'

PROCEDURE:
	The code is called with a flag to indicate whether the input file is in AGC or GALCAT format. The
	program proceeds differently depending on the input file format, and in the end the outputs are also different.

NOTES:
	FLAGS ARE DEFINED AS FOLLOWS
	FLOW MODEL FLAG: Flowmodel uses codes 0,1,2,3,10,11,12,13,20,21,22,23 and 30. If the flowmodel flag is -1, that means
	the flowmodel was not at all employed in the distance determination for that object. Flow model flags are defined
	in greater detail below.

	DISTANCE SOURCE FLAG
	-1 - no distance (High Velocity Cloud)	
	99 - distance estimated using pure Hubble flow, using the object's CMB rest frame velocity and a
		Hubble parameter H_0 = 70.0 km/s/Mpc. This applies to objects (or groups) with CMB frame
		velocities greater than 6000 km/s. At the moment, the error on such a distance is given as 0.
	98 - distance is from a primary distance measurement.
	97 - object belongs to a group with a CMB rest frame velocity greater than 6000 km/s, so the distance
		to the object was estimated using pure Hubble flow from the object's CMB frame velocity.
	96 - object belongs to a group with a CMB rest frame velocity less than 6000 km/s, so the distance to
		the object was estimated using the flow model and using the group's velocity.
	95 - object belongs to a group, and one member has a primary distance, so all objects in the group
		are assigned to that distance. ***THIS IS NOT EMPLOYED AT THE MOMENT BUT WILL BE IN THE FUTURE.***
	94 - the object does not have a primary distance measurement, and does not belong to a group, so a flow
		model distance is given.

	When a flowmodel is used, the flag is also given (for diagnosing troublesome spots). If the flowmodel flag
	entry is -1, this means that the flow model was not used in determining the distance.
	
	********************************************
	Flowmodel flags indicate possible problems with the distance (and error) obtained using the flow model. IF
	the flowmodel flag is anything other than a 1, 10, or 20, it is probably worth investigating and thinking about.
                       0: No distance found. Usually close to D=0Mpc
                       1: Everything is fine, single valued distance
                      2: Double valued distance
                      3: Triple valued distance
                      10: Assigned to Virgo Core
                      11: Near Virgo (within 6Mpc which is region where SB00 
                          claim that model is "uncertain"), single valued 
                      12: Near Virgo (within 6Mpc which is region where SB00 
                          claim that model is "uncertain"), double valued 
                      13: Near Virgo (within 6Mpc which is region where SB00 
                          claim that model is "uncertain"), triple valued 
                      20: Assigned to GA Core
                      21: Near GA (within 10Mpc which is region where SB00 
                          claim that model is "uncertain"), single valued
                      22: Near GA (within 10Mpc which is region where SB00 
                          claim that model is "uncertain"), double valued
                      23: Near GA (within 10Mpc which is region where SB00 
                          claim that model is "uncertain"), triple valued
                      30: Assigned to Core of Fornax cluster

 
REVISION HISTORY:
       Adapted from existing code   A.Martin   August 2007
       One line correction to catalog output when primary distances are used S.Stierwalt December 2007

</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/distance_catalog.pro)</STRONG><P>
<HR>
 
<A NAME="EPSINIT">
<H2>EPSINIT</H2></A>
<A HREF="#DISTANCE_CATALOG">[Previous Routine]</A>
<A HREF="#EPSTERM">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
       EPSINIT
 PURPOSE:
       Redirect plots and images to Encapsulated Postscript File.
 CATEGORY:
 CALLING SEQUENCE:
       epsinit, outfile
 INPUTS:
       outfile = EPS file name (def=idl.eps).          in
 KEYWORD PARAMETERS:
       Keywords:
         XSIZE=xsz  Plot size in X (def=6).
         YSIZE=xsz  Plot size in Y (def=6).
         /CM    Means size units are cm (else inches).
         /COLOR means do color PostScript (def is B&W).
         /VECTOR to use vector fonts instead of postscript fonts.
         /QUIET turns off epsinit messages.
 OUTPUTS:
 COMMON BLOCKS:
       eps_com,xsv,ysv,psv,dsv,ou
 NOTES:
       Notes: 8 bit gray scale or color is set.  Times Roman
         font is used.  To over-ride just use a call to device
         after epsinit to set desired values.
 MODIFICATION HISTORY:
       R. Sterner, 1996 Aug 2

 Copyright (C) 1996, Johns Hopkins University/Applied Physics Laboratory
 This software may be used, copied, or redistributed as long as it is not
 sold and this copyright notice is reproduced on each copy made.  This
 routine is provided as is without any express or implied warranties
 whatsoever.  Other limitations apply as described in the file disclaimer.txt.
</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/eps.pro)</STRONG><P>
<HR>
 
<A NAME="EPSTERM">
<H2>EPSTERM</H2></A>
<A HREF="#EPSINIT">[Previous Routine]</A>
<A HREF="#FACEON">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
       EPSTERM
 PURPOSE:
       Terminate Encapsulated Postscript plotting.
 CATEGORY:
 CALLING SEQUENCE:
       epsterm
 INPUTS:
 KEYWORD PARAMETERS:
       Keywords:
         /QUIET turns off epsterm messages.
 OUTPUTS:
 COMMON BLOCKS:
       eps_com,xsv,ysv,psv,dsv
 NOTES:
 MODIFICATION HISTORY:
       R. Sterner, 1996 Aug 2

 Copyright (C) 1996, Johns Hopkins University/Applied Physics Laboratory
 This software may be used, copied, or redistributed as long as it is not
 sold and this copyright notice is reproduced on each copy made.  This
 routine is provided as is without any express or implied warranties
 whatsoever.  Other limitations apply as described in the file disclaimer.txt.
</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/eps.pro)</STRONG><P>
<HR>
 
<A NAME="FACEON">
<H2>FACEON</H2></A>
<A HREF="#EPSTERM">[Previous Routine]</A>
<A HREF="#FLUXCORRECTION">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME: 
	FACEON

PURPOSE:
	This function computes the true axial ratio a/b as a function
	of HG type using the recursion relation of Dickel and Rood.

SYNTAX: 
	result=FACEON(ratio,hgtype)

INPUTS: 
	ratio - uncorrected axial ratio
	hgtype - HG type
OUTPUTS: 
	faceout

MODIFICATION HISTORY:
       Written  MH&RG
       Converted to IDL   A.Martin   June 2006
</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/inclination.pro)</STRONG><P>
<HR>
 
<A NAME="FLUXCORRECTION">
<H2>FLUXCORRECTION</H2></A>
<A HREF="#FACEON">[Previous Routine]</A>
<A HREF="#GETCOMMENTS">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
	FLUXCORRECTION
PURPOSE:
	To correct the HI flux for
	1) pointing error . . . add a flat 5% for Arecibo
	2) beam dilution
	3) internal HI absorption

SYNTAX:
	result= FLUXCORRECTION(hidiam, dincl, bovera, hgtype, telcode, beamdiluchoice)

INPUTS:
	hidiam - in arcmin
	dincl - inclination angle in degrees
	bovera - visual ratio
	hgtype - HG type (an integer)
	telcode - telescope code (string)
	beamdiluchoice - an integer. 0 calls BEAMCORR2GAUSS, 1 calls BEAMCORR1GAUSS, any other
			choice sets the 2nd correction = 1.0

OUTPUTS:
	result - total flux correction from all 3 contributions - corr1*corr2*corr3

 MODIFICATION HISTORY:
       Written  MH&RG
       Converted to IDL   A.Martin   June 2006
</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/fluxcorr.pro)</STRONG><P>
<HR>
 
<A NAME="GETCOMMENTS">
<H2>GETCOMMENTS</H2></A>
<A HREF="#FLUXCORRECTION">[Previous Routine]</A>
<A HREF="#GROUP_PRIMARIES">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
	GETCOMMENTS
PURPOSE:
	To prepare a "footnotes file", starting from a directory containing all the source files for
	a given catalog. Format of the output file is then:
	HI093603.0+105417_0940+11c.src  affected by rfi

	The first 17 characters are the HI name of the source, followed by "_grid+XXa.src", followed by two spaces,
	followed by a string (maximum length 400 characters) that contains the comment. 

	Note that this procedure will grab all your comments and assume they are footnotes, so be sure to check
	over everything!

	A file in this format can then be used with distance_catalog.pro to make a set of ALFALFA catalog paper
	tables including the footnotes for each source.


CALLING SEQUENCE:
	GETCOMMENTS,OUTPUT_FILE	

EXAMPLE:
	GETCOMMENTS,'footfile.txt'


INPUTS:
	No inputs - but you must be running GETCOMMENTS in a directory containing all the .src files
	for which you want to create footnotes.

OUTPUTS:
	OUTPUT_FILE - a "footnotes file" that can then be used with distance_catalog.pro to create
		ALFALFA paper tables with proper footnotes for sources.


REVISION HISTORY:
       Written and added to EGGGEN. S.Stierwalt Dec2007
	Modified to work with distance_catalog. A.Martin Dec2007
</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/getcomments.pro)</STRONG><P>
<HR>
 
<A NAME="GROUP_PRIMARIES">
<H2>GROUP_PRIMARIES</H2></A>
<A HREF="#GETCOMMENTS">[Previous Routine]</A>
<A HREF="#GUESS_ROTANG">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
	GROUP_PRIMARIES
PURPOSE:
	To compare dist_calibs.dat and grp_assign.gals in order to determine the best primary
	distance estimates to a group. Outputs a file called grp_primaries.dat which gives information
	on every AGC galaxy that both belongs to a group and has a primary distance.

CALLING SEQUENCE:
	grp_primaries

REQUIRES: 
	Must be located in the same directory as grp_assign.gals and dist_calibs.dat, and you
	must have write permission in that directory.
	

INPUTS:
	None.	

OUTPUTS:
	grp_primaries.dat - A file containing information for each and every AGC number that is found
				in both grp_assign.gals and dist_calibs.dat. Columns are AGC Number, Group
				Number, Distance (Mpc), and Distance Error (Mpc).
			Read statement is
			readf,grpprimarylun,test_agcnum,test_grpnumber,test_dist,test_edist,format='(I6,2X,I6,2X,F8.2,2X,F8.2)'


PROCEDURE:
	The code is called with a flag to indicate whether the input file is in AGC or GALCAT format. The
	program proceeds differently depending on the input file format, and in the end the outputs are also different.

NOTES:
	

 
REVISION HISTORY:
       Written   A.Martin   August 2007

</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/distance_subroutines.pro)</STRONG><P>
<HR>
 
<A NAME="GUESS_ROTANG">
<H2>GUESS_ROTANG</H2></A>
<A HREF="#GROUP_PRIMARIES">[Previous Routine]</A>
<A HREF="#HIABSHG">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
	GUESS_ROTANG
PURPOSE:
	Finds approximate value of the ALFA rotation angle by calculating the
	parallactic angle. The ALFA rotang should be close to the negative
	para_ang plus some offset to achieve desired beam configuration on the
	sky. For ALFALFA, offset=+19 for equally spaced beams.

	For the geometry, see Frank Ghigo's GBT memo.
 
 SYNTAX:   
	GUESS_ROTANG,haH,decD,offsetang,paraangl,rotguess


INPUTS:
	ha          float   hour angle, in degrees
	decD        float   Declination, in degrees
	offsetang   float   The offset between the Para_ang and rot_ang

OUTPUTS:
	paraangl    float   parallactic angle of source
	rotguess    float   Approximate ROTANG = rotD + OFFSETANG
                       where rotD is computed from Para_ang.

EXAMPLE:  
	guess_rotang,-1.003,21.53417,+19.,paraangl,rotguess

MODIFICATION HISTORY:
	Updated for eggidl by mph 04Dec11

NOTES:
	-- code contains some extraneous calculations for diagnostic
         purposes
	-- in other words, this isn't intended to be foolproof
        CAVEAT EMPTOR!

    
</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/guess_rotang.pro)</STRONG><P>
<HR>
 
<A NAME="HIABSHG">
<H2>HIABSHG</H2></A>
<A HREF="#GUESS_ROTANG">[Previous Routine]</A>
<A HREF="#HISTOGRAM_EZ">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME: 
	HIABSHG

PURPOSE:
	To correct for internal HI absorption, as a function
	of visual ratio and the HG type of the galaxy.

SYNTAX: 
	result=HIABSHG(hgtype,bovera)

INPUTS: 
	hgtype - HG galaxy type.
	bovera - the visual ratio
OUTPUTS: 
	hiabresult - the correction to the flux, used in FLUXCORRECTION

</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/fluxcorr.pro)</STRONG><P>
<HR>
 
<A NAME="HISTOGRAM_EZ">
<H2>HISTOGRAM_EZ</H2></A>
<A HREF="#HIABSHG">[Previous Routine]</A>
<A HREF="#INCLINATION">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
	HISTOGRAM_EZ

PURPOSE:
	Makes histogramming easy.
	Features:
	-if your minimum datapoint is 4.26, histogram_ez will take the lowest
	bin to be 4.0 to 5.0 (with a binsize of 1) or 3.0 to 6.0 (with a binsize
	of 3) or 0.0 to 5.0 (with a binsize of 5). In other words, it's pretty
	smart -- the builtin IDL histogram routine would go from 4.26 to 5.26.
	- it graphs it correctly and you don't have to worry about the x-axis
	lining up, because histogram_ez worries for you.
	- if the behavior of the histogram function didn't go to zero
	at the endpoints, the old routine would screw up the graph.

SYNTAX:
	HISTOGRAM_EZ,array,binsize=binsize,xaxis=xaxis,yaxis=visual_density,_extra=extra

MODIFICATION HISTORY:
 	2002-08-07. Added xaxis and yaxis to pass back to calling routine.
 	2003-11-21: found possible bug: starthere is wrong for negative values.

</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/histogram_ez.pro)</STRONG><P>
<HR>
 
<A NAME="INCLINATION">
<H2>INCLINATION</H2></A>
<A HREF="#HISTOGRAM_EZ">[Previous Routine]</A>
<A HREF="#KLMFLOW">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
	INCLINATION
PURPOSE:
	To calculate inclination based on type and visual axis ratio.

SYNTAX:
	INCLINATION, a, b, hgtype, dincl, bovera, corrdincl

INPUTS:
	a
	b
	hgtype - HG type
	dincl - inclination in degrees

OUTPUTS:
	corrdincl - corrected inclination
	bovera - corrected ratio
	
MODIFICATION HISTORY:
       Written  MH&RG
       Converted to IDL   A.Martin   June 2006
</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/inclination.pro)</STRONG><P>
<HR>
 
<A NAME="KLMFLOW">
<H2>KLMFLOW</H2></A>
<A HREF="#INCLINATION">[Previous Routine]</A>
<A HREF="#LIST_COORDS">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
	KLMFLOW
PURPOSE:
 	Based on a Fortran subroutine written by John Tonry (available on-line).
	Edited to deal with distances in km/s (independent of Hubble's constant).
	This version also uses NFW profiles for the attractors, and does not include
	cutoff radii, except for the quadrupole.

SYNTAX:
	KLMFLOW, x, y, z, vx, vy, vz, vr, sig

INPUTS:
	x, y, z - Cartesian SuperGalactic coordinates of the source galaxy

OUTPUTS:
	vx, vy, vz - velocity in SG cartesian coords in CMB frame
	vr - radial velocity in CMB frame
	vsig - velocity dispersion at location of galaxy
	
REVISION HISTORY:
	Created  Karen L. Masters (KLM)
       Converted to IDL   A.Martin   June 2006
</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/flowmodel_dist.pro)</STRONG><P>
<HR>
 
<A NAME="LIST_COORDS">
<H2>LIST_COORDS</H2></A>
<A HREF="#KLMFLOW">[Previous Routine]</A>
<A HREF="#LIST_COORDS_SDSS">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
       LIST_COORDS

PURPOSE:
       Take an ALFALFA catalog and generate an outfile that is a list
       of coordinates of sources in a format appropriate for upload
       into the GATOR query service for 2mass.

SYNTAX:
       LIST_COORDS, 'catalog.dat', 'outfile.tbl', (/hi), (/opt)

INPUTS:
       infile - the full name of an input ALFALFA catalog, including
               directory structure.

OUTPUTS:
       outfile - the name of the output text file containing a list
                 of coordinates for upload into 2MASS GATOR query
                 service.

KEYWORDS:
       hi - if this flag is set the coordinate list constructed will
            be from the HI coordinates
       opt - if this flag is set the coordinate list constructed will
             be from the coordinates of the identified optical counterpart.

EXAMPLE:
       list_coords,'/home/humacao/humacao1/betsey/CR1_catalog.dat','list.txt',/hi

NOTES:
       This creates a textfile formatted for GATOR upload.  If
       coordinate type is not specified will default to using HI
       coordinates.

       Coordinates input to GATOR must be in decimal
       degree format. According to the website, the convention for naming
       the input tables is:  No more than 9 characters, followed by
       ".tbl". Use only letters, numbers or underscores ("_"). The
       first character must be alphabetic; no numerals allowed.

REVISION HISTORY:
       Written B. Adams  July 2007

</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/list_coords_2mass.pro)</STRONG><P>
<HR>
 
<A NAME="LIST_COORDS_SDSS">
<H2>LIST_COORDS_SDSS</H2></A>
<A HREF="#LIST_COORDS">[Previous Routine]</A>
<A HREF="#LSTTOAZRT">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
       LIST_COORDS_SDSS

PURPOSE:
       Take an ALFALFA catalog and generate an outfile that is a list
       of coordinates of sources in a format appropriate for upload
       into CAS for SDSS.

SYNTAX:
       LIST_COORDS, 'catalog.dat', 'outfile, (/hi), (/opt)

INPUTS:
       incat - the full name of an input ALFALFA catalog, including
               directory structure.

OUTPUTS:
       outfile - the name of the output text file containing a list
                 of coordinates for upload into CAS

KEYWORDS:
       hi - if this flag is set the coordinate list constructed will
            be from the HI coordinates
       opt - if this flag is set the coordinate list constructed will
             be from the coordinates of the identified optical counterpart.

EXAMPLE:
       list_coords,'/home/humacao/humacao1/betsey/CR1_catalog.dat','list.txt',/hi

NOTES:
       This creates a textfile formatted for CAS upload.  The website
       for DR6 is
       http://cas.sdss.org/dr6/en/tools/crossid/upload.asp.  Note
       that the infile size is limited to 80 KB and the output will
       not exceed 100,000 objects.  For larger searches, the catalog
       will need to be broken into pieces.

       The information desired from SDSS includes magnitude, errors
       and axial ratios for galaxies near ALFALFA detections.
       
       A good starting query is:
       SELECT 
          g.ra, g.dec, 
          g.modelMag_g, g.modelMagErr_g, g.modelMag_r, g.modelMagErr_r,
          g.petroMag_g, g.petroMagErr_g, g.petroMag_r, g.petroMagErr_r,
          flags, isoA_g, isoB_g, expAB_g
       FROM #x x, #upload u, Galaxy g
       WHERE u.up_id = x.up_id and x.objID=g.objID 
       ORDER BY x.up_id

REVISION HISTORY:
       Written B. Adams  August 2007

</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/list_coords_sdss.pro)</STRONG><P>
<HR>
 
<A NAME="LSTTOAZRT">
<H2>LSTTOAZRT</H2></A>
<A HREF="#LIST_COORDS_SDSS">[Previous Routine]</A>
<A HREF="#MAG_CORR_SDSS">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>

****DISCLAIMER: THIS ROUTINE IS NOT GUARANTEED TO WORK FOR YOU!
                IT IS NOT DESIGNED TO APPLY IN ALL CASES!
                IT IS YOUR RESPONSIBILITY TO CHECK IT!
                Otherwise, you should **not** use it.

NAME:
	LSTTOAZRT

PURPOSE:
	For a given source of RA,Dec (J2000), compute the az, za and optimal
	rotation angles for a succession of drifts of length DRIFTTIME, starting
	on a given day yymmdd at a given LST and assuming the ALFALFA beam
	configuration. Performs simple error check on slew times between drifts,
	ALFA rotation limits, and optimization algorithm iteration boundaries.

SYNTAX:
	LSTTOAZRT, yymmdd,lmstHHMMSS,raHHMMSS,decDDMMSS,driftTime

INPUTS:
	yymmdd - long - desired date for calculation, in yymmdd format.
	lmstHHMMSS - long - local mean sidereal time, in hhmmss format.
	raHHMMSS - long - source RA in J2000, in hhmmss format.
	decDDMMSS - long - source Dec in J2000, in ddmmss format.
	driftTime - float - length of drift, sans cal, in seconds. For a1963
			spectral line, this will be 480 seconds.

OUTPUTS:
	NONE YET!
	azDrift[n]: double  azimuth of source, in degrees
	zaDrift[n]: double  azimuth of source, in degrees
	lstDrift[n] double  lst start of each drift
	anglDrift[n]: float  optimal rotation angle of drift, in degrees
         
EXAMPLE:  
	lsttoazRT,041202L,083200L,092810L,211326L,480.
	lsttoazRT,041202L,074000L,085248L,200631L,240.
	lsttoazRT,041202L,091000L,101955L,215931L,240.

NOTES:
	Note that you need to run this over +/- 1.2 HA, starting at ZA~18
       This routine has NOT been tested on sources other than 
       N2903 and two calibrators at +20 and +21 deg.

	ASSUMES the array specified below
	tstep:      float   time step between calculations, in seconds
	caltime:    float   time overhead for cal firing

	 You need to set the time between scans (tstep) according
	 to the range of HA covered. This is optimized for NGC2903 (+21d).
	 Sources at other declinations will require different tstep[i].
	 Someday we might automate this, but not now.

MODIFICATION HISTORY:
	Written, MPH with apologies to RG and PP
	30Nov04  eggidl initialization (by mph)
       30Nov04  added check for slew time (mph)
       01Dec04  added overheads; check for iteration boundaries (mph)
       02Dec04  added ALFA rotation angle limits
                modified meaning of DRIFTTIME
                allow drifts of 240 sec and 480 sec (mph)
                added call to separate cmpmovetime.pro (mph)
       04Dec04  added check of time to rotate array (mph)
       11Dec04  guess_rotang has been modified to include
                ellipticity correction, and to return paraangl
                for more general use
                new guess_angle allows for smaller loop
</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/lsttoazRT.pro)</STRONG><P>
<HR>
 
<A NAME="MAG_CORR_SDSS">
<H2>MAG_CORR_SDSS</H2></A>
<A HREF="#LSTTOAZRT">[Previous Routine]</A>
<A HREF="#MAG_VAGC">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>

NAME:
       MAG_CORR_SDSS

PURPOSE:
       To take an ALFALFA catalog, list of SDSS matches and create an
       output structure containing information from ALFALFA, SDSS,
       and corrected B band magnitudes.

SYNTAX:
       mag_corr_sdss, alfafile, sdssfile, corrcat, (/petro), (/model)

INPUTS:
       alfafile - the full pathname for an ALFALFA catalog

       sdssfile - the full pathname for a CSV SDSS file of possible
                  optical counterparts

OUTPUTS:
       corrcat - a structure containing information from both ALFALFA
                 and SDSS, along with extinction corrected B band
                 magnitude information

KEYWORDS:
       /petro - calculate the B mag based on sloan Petrosian mags
       
       /model - calculate the B mag based on sloan model mags

       /noint - If set, internal extinction corrections will not be
                applied to the galaxies

EXAMPLE:
       mag_corr_sdss,'CR1_catalog.dat','result-1.csv',corrcat,/petro,/model

NOTES:
       If neither petro nor model keywords are specified no B
       magnitude information will be returned. 

       The reported B band errors are only the errors in g and r
       bands propagated through the formula for finding B.  They do
       not include any uncertanities in the filter correction or any
       other corrections

       This procedure looks for the axial ratios from an exponential
       fit in the g band.  The reasoning is that most galaxies
       detected by ALFALFA will be late-type and well fit by an
       exponential profile.  In addition, the sloan g filter is
       closest to B and so will be most indicative of axial ratios in B

REVISION HISTORY:
       Written B. Adams August 2007

</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/mag_corr_sdss.pro)</STRONG><P>
<HR>
 
<A NAME="MAG_VAGC">
<H2>MAG_VAGC</H2></A>
<A HREF="#MAG_CORR_SDSS">[Previous Routine]</A>
<A HREF="#MAKEDOC">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
       MAG_VAGC
PURPOSE:
       If an ALFALFA detection has a counterpart in the VAGC, find
       the corrected apparent magnitude in the Johnson B band.
       The corrections include internal extinction, galactic
       extinction and a k-correction.
       A filter transform is applied to go from the Sloan ugriz to
       Johnson B band.

SYNTAX:
       MAG_VAGC, k, j

INPUTS:
       index_vagc - the index locating the entry of the vagc_alfalfa that
              corresponds to the detection.
       index_alfalfa - the index locating the entry of the detection
                       in the alfalfa catalog.

OUTPUTS:
       none

KEYWORDS:
       nokcor - set this flag to skip the k correction at this level
       nointcor - set this flag to skip the correction for internal
                  extinction at this level
       nogalcor - set this flag to skip the correction for Galactic
                  extinction at this level

NOTES:
       The corrected magnitude will somehow be returned to a higher
       level procedure where the catalog is sorted, matched and
       luminosity information is collected.          

REVISION HISTORY:
       Written B. Adams   July 2007

</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/mag_vagc.pro)</STRONG><P>
<HR>
 
<A NAME="MAKEDOC">
<H2>MAKEDOC</H2></A>
<A HREF="#MAG_VAGC">[Previous Routine]</A>
<A HREF="#MATCH2MASS">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME: 
	MAKEDOC

 PURPOSE:
	Uses IDL headers to create an HTML documentation file for a set of IDL .pro files and the procedures/
	functions contained therein. Calls the IDL intrinsic function mk_html_help.

 SYNTAX:
	MAKEDOC, dir, outputfile, outtitle

 INPUTS:
	dir - string; the directory containing .pro files OR a string array containing the names of individual
	.pro files

 OUTPUTS:
	outputfile - string; the filename of the HTML output
	outtitle - string; the title of the HTML output page

 EXAMPLES:
	1. To create a documentation HTML file documentation.html with the title 'EGG IDL'
	using the .pro files in /home/dorado5/amartin/idl_proc:

	IDL> makedoc,'/home/dorado5/amartin/idl_proc','documentation.html','EGG IDL'

	2. To create a documentation HTML file types.html with the title "Type Conversions'
	using selected .pro files in the above directory which pertain to type
	conversions:

	IDL> files=['/home/dorado5/amartin/idl_proc/bsteintorc3.pro','/home/dorado5/amartin/idl_proc/typeesgc.pro']
	IDL> makedoc,files,'types.html','Type Conversions'

	3. To create a documentation HTML file cart.html with the title "Cartesian'
	using only the .pro files in the above directory which contain the string
	'cart':

	IDL> cartfiles=FILE_SEARCH('/home/dorado5/amartin/idl_proc/*cart*.pro')
	IDL> makedoc,cartfiles,'cart.html','Cartesian'

MODIFICATION HISTORY:
	A.Martin   June 2006
</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/makedoc.pro)</STRONG><P>
<HR>
 
<A NAME="MATCH2MASS">
<H2>MATCH2MASS</H2></A>
<A HREF="#MAKEDOC">[Previous Routine]</A>
<A HREF="#MATCH_SDSS">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
       MATCH2MASS

PURPOSE:
       To take an ALFALFA catalog and 2MASS catalog (from
       read_alfalfacat and read_2mass, respectively) and create a
       struture that matches 2mass sources to ALFALFA detections and
       contains information from both.

SYNTAX:
       MATCH2MASS, alfalfacat, 2masscat, outcat

INPUTS:
       alfafile - the full pathname of an alfalfa catalog
       twomassfile - the full pathname of a list of 2MASS sources
                    found using a file generated by list_coords

OUTPUTS:
       outcat - The output structure that contains information from
                both the ALFALFA and 2MASS catlogs.

KEYWORDS:

EXAMPLE:
       match2mass, 'CR1_catalog.dat', 'twomass_sources.txt', matchedcat

NOTES:
       This procedure presumes that the input file of 2MASS sources
       corresponds to the input ALFALFA catalog.  That is, the 2MASS
       file comes for a GATOR query run on a coordinate list created
       from the ALFALFA catalog using list_coords_2mass


REVISION HISTORY:
       Written B. Adams   July 2007
       Revised B. Adams   August 2007 to take a more general input
       file

</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/match2mass.pro)</STRONG><P>
<HR>
 
<A NAME="MATCH_SDSS">
<H2>MATCH_SDSS</H2></A>
<A HREF="#MATCH2MASS">[Previous Routine]</A>
<A HREF="#MATCH_VAGC">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>

NAME:
       MATCH_SDSS

PURPOSE:
       To take an output CSV file from a SDSS coordinate match and
       create an output structure with matched information between
       ALFALFA detections and SDSS sources.

SYNTAX:
       match_sdss, alfafile, sdssfile, outcat

INPUTS:
       alfafile - the full path name for an ALFALFA catalog

       sdss file - the full pathname for a CSV SDSS file produced by
                   matching to ALFALFA coordinates

OUTPUTS:
       outcat - the output structure containing information from both
                ALFALFA and SDSS on sources

EXAMPLE:
       match_sdss,'CR1_catalog.dat','result-1.csv',sdss_alfacat

NOTES:

REVISION HISTORY:
       Written B. Adams August 2007

</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/match_sdss.pro)</STRONG><P>
<HR>
 
<A NAME="MATCH_VAGC">
<H2>MATCH_VAGC</H2></A>
<A HREF="#MATCH_SDSS">[Previous Routine]</A>
<A HREF="#MYDELTAV">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
       MATCH_VAGC

PURPOSE:
       This procedure is designed to take an ALFALFA catalog produced
by the pipeline and match HI detections to sources in the VAGC.  At
this point in time the output catalog only returns  information about
matches from the Sloan imaging survey.  However this information
includes an identifier for sources in the VAGC and would allow easy
matches to the other catalogs included in the VAGC.

SYNTAX:
        MATCH_VAGC, alfafile, vagc, outcat,(/hi),(/opt)

INPUTS:
        alfafile - the full pathname of an ALFALFA catalog produced by
                  the standard pipeline.
        vagc - the full location of the idl save file that is the
               ALFALFA coverage limited SDSS Imaging information from
               the VAGC

OUTPUTS:
        outcat - an output catalog containing the ALFALFA and SDSS
                 information for sources.

KEYWORDS:
        /hi - set to use HI coordinates of ALFALFA detection for
              matching
        /opt - set to use coordinates of identified optical
               counterpart for matching
        radius - radius to look for optical matches within.  Defaults
                 to 60 arcseconds

EXAMPLE:
        match_vagc,'CR1_catalog.dat','vagc/sdssimaging_alfalfa.sav',vagc_alfacat,/hi

NOTES:
        If neither the /hi nor /opt keywords are set, the procedure
        will default to using the HI coordinates for matching purposes

REVISION HISTORY:
        Written by B. Adams  August 2007
        Modified by B. Adams August 2007 to create output structure
        from a string array rather than appending columns
</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/match_vagc.pro)</STRONG><P>
<HR>
 
<A NAME="MYDELTAV">
<H2>MYDELTAV</H2></A>
<A HREF="#MATCH_VAGC">[Previous Routine]</A>
<A HREF="#MYFLOWMODEL">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME: 
	MYDELTAV

PURPOSE:
	Finds the difference between the observed velocity and that
	predicted by KLMFLOW at a given distance. This will be minimized
	by ZBRAKVEL and ZBRENTVEL in FLOWMODEL.

SYNTAX: 
	result=MYDELTAV(distflow, sgl, sgb, vgal)

INPUTS: 
	distflow - a given distance
	sgl, sgb, vgal - from calling routine
OUTPUTS: 
	result - difference between observed and predicted velocity.

 REVISION HISTORY:
       Written  KLM January 2003
       Converted to IDL   A.Martin   June 2006

</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/flowmodel_dist.pro)</STRONG><P>
<HR>
 
<A NAME="MYFLOWMODEL">
<H2>MYFLOWMODEL</H2></A>
<A HREF="#MYDELTAV">[Previous Routine]</A>
<A HREF="#MYFLOWMODELCALL">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
	MYFLOWMODEL
PURPOSE:
	KLM flow model, adapted from the non-linear flow model of Tonry et al (2000),
	which uses Yahil (1985) approximation (good to an overdensity of 30).
 	
	Compute distances from galaxy velocities and co-ordinates. This model includes 
	the spherical infall on the Virgo Attractor and the Great Attractor, as well as 
	a quadrupole correction which could be due either to non-spherical infall or the 
	influence of external masses. There is also a velocity dispersion component which 
	is a combination of thermal velocity dispersion and virial motions in Virgo, the 
	GA and the Fornax Cluster. The parameters of the model were fit to a sample of about 
	300 early-type galaxies with SBF distances (see Tonry et al 2000). 

	The output of this routine consists of up to three possible best solutions. Older versions 
	also output a file from which you can make a plot of the unnormalized 
	probability given the model that the galaxy is at a given distance (which 
	allows an estimate of the error in the model on the distance from the 
	velocity dispersion) and also a file from which you can plot the function
	mydeltav(dist,sgl,sgb,vgal) for the galaxy (to check the roots found are sensible).

	NOTE: This version provides distances independent of h0 (ie. in units of km/s)

SYNTAX:
	MYFLOWMODEL, co1, co2, coopt, vel, velopt, dist, vs, nsolns, flag

INPUTS:
	co1, co2 - the input coordinates. Should be in J2000.
	coopt - a flag which indicates the system of input coordinates co1 & co2.
		coopt = 0: input equatorial, co1=RA, co2=DEC in RADIANS
		coopt = 1: input galactic, co1=l, co2=b in RADIANS
		coopt = 2: input supergalactic, co1=SGL, co2=SGB in RADIANS
		For all flags, coordinates will be transformed to supergalactic SGL
		and SGB in *RADIANS*
	vel - radial velocity of source (km/s)
	velopt - integer, indicating type of input velocity:
		velopt = 0: vcmb will be calculated from vel using Lineweaver conversion.
		velopt = 1: vcmb=vel, ie, input is already converted to CMB

OUTPUTS:
	distflow - 3-element array containing distance solutions in km/s
	nsolns - integer; the number of solutions found.
	flag - integer; an output flag to indicate possible problems; see notes.
	
REVISION HISTORY:
	Created 24th Jan 2003, Karen L. Masters (KLM)
	Last update 4th Feb 2003, KLM 

	This version provides distances independent of h0 (ie. in units of km/s).
	May 16th 2003, KLM.
	J2000 co-ords, Feb 2005, KLM
	Uses flow model fit to SFI++. June 2005, KLM
       Converted to IDL   A.Martin   June 2006

NOTES:
       FLAG    (INT)   Flag to indicate possible problems
                       0: No distance found. Usually close to D=0Mpc
                       1: Everything is fine, single valued distance
                      2: Double valued distance
                      3: Triple valued distance
                      10: Assigned to Virgo Core
                      11: Near Virgo (within 6Mpc which is region where SB00 
                          claim that model is "uncertain"), single valued 
                      12: Near Virgo (within 6Mpc which is region where SB00 
                          claim that model is "uncertain"), double valued 
                      13: Near Virgo (within 6Mpc which is region where SB00 
                          claim that model is "uncertain"), triple valued 
                      20: Assigned to GA Core
                      21: Near GA (within 10Mpc which is region where SB00 
                          claim that model is "uncertain"), single valued
                      22: Near GA (within 10Mpc which is region where SB00 
                          claim that model is "uncertain"), double valued
                      23: Near GA (within 10Mpc which is region where SB00 
                          claim that model is "uncertain"), triple valued
                      30: Assigned to Core of Fornax cluster

	Cosmology:
       	Ho             Hubble's constant
       	(wx,wy,wz)     Peculiar velocity of Sun in CMB frame
       	omega          Mass density parameter
       	thermal        Thermal velocity dispersion in universe
       
 	Quadrupole:
       	rquad          Cut-off radius
       	qxx, qxy, qxz, qyz, qzz

 	Attractors:
       	xa,ya,za       Position in Supergalactic cartesian co-ords relative
       	               to Local Group
       	deltaa         Overdensity at position of LG
       	gammaa         Power law fall off
       	rcore         Core radius
       	rcuta          Cut-off radius
       	siga           Virial velocity dispersion which falls off like a 
			       Gaussian centred on the attractor with width rcore
     
		Note: model also has non-attracting overdensities which are
		simply described by a position and virial velocity dispersion

 	Input to model
 
       	sgx,sgy,sgz     Supergalactic cartesian co-ords of galaxy
       	r               Trial distance for galaxy      

 	Output from model

       	vx,vy,vz        Velocity in supergalactic cartesian co-ords in 
                       CMB frame
       	vr              Radial velocity in CMB frame
       	vsig            Velocity dispersion at position of galaxy

</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/flowmodel_dist.pro)</STRONG><P>
<HR>
 
<A NAME="MYFLOWMODELCALL">
<H2>MYFLOWMODELCALL</H2></A>
<A HREF="#MYFLOWMODEL">[Previous Routine]</A>
<A HREF="#OPTANG">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
	MYFLOWMODELCALL
PURPOSE:
	To call flowmodel routine, deal with plausible errors on 
	distances, and pick out the best distance out of multiple solutions. 

	In this version you can pick your favourite value of H0 at the end as all
	distances are dealt with in km/s units. Just divide the output distance 
	(which is in km/s) by desired H0.

SYNTAX:
	MYFLOWMODELCALL, co1, co2, coopt, vel, velopt, distance, edit, flag

INPUTS:
	co1, co2 - the input coordinates. Should be in J2000.
	coopt - a flag which indicates the system of input coordinates co1 & co2.
		coopt = 0: input equatorial, co1=RA, co2=DEC in RADIANS
		coopt = 1: input galactic, co1=l, co2=b in RADIANS
		coopt = 2: input supergalactic, co1=SGL, co2=SGB in RADIANS
		For all flags, coordinates will be transformed to supergalactic SGL
		and SGB in *RADIANS*
	vel - velocity
	velopt - integer, indicating type of input velocity:
		velopt = 0: Input velocity is heiocentric; vcmb will be calculated using Lineweaver conversion.
		velopt = 1: Input is CMB velocity, i.e. CMB velocity has already been calculated

OUTPUTS:
	distance - distance, selected by the program, reported for input coordinates, in units of km/s
	edist - error, estimated by the program, in km/s
	flag - integer; an output flag to indicate possible problems; see notes.
	
REVISION HISTORY:
       Written  KLM
       Converted to IDL   A.Martin   June 2006

NOTES:
       FLAG    (INT)   Flag to indicate possible problems
                       0: No distance found. Usually close to D=0Mpc
                       1: Everything is fine, single valued distance
                      2: Double valued distance
                      3: Triple valued distance
                      10: Assigned to Virgo Core
                      11: Near Virgo (within 6Mpc which is region where SB00 
                          claim that model is "uncertain"), single valued 
                      12: Near Virgo (within 6Mpc which is region where SB00 
                          claim that model is "uncertain"), double valued 
                      13: Near Virgo (within 6Mpc which is region where SB00 
                          claim that model is "uncertain"), triple valued 
                      20: Assigned to GA Core
                      21: Near GA (within 10Mpc which is region where SB00 
                          claim that model is "uncertain"), single valued
                      22: Near GA (within 10Mpc which is region where SB00 
                          claim that model is "uncertain"), double valued
                      23: Near GA (within 10Mpc which is region where SB00 
                          claim that model is "uncertain"), triple valued
                      30: Assigned to Core of Fornax cluster

 
</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/flowmodel_dist.pro)</STRONG><P>
<HR>
 
<A NAME="OPTANG">
<H2>OPTANG</H2></A>
<A HREF="#MYFLOWMODELCALL">[Previous Routine]</A>
<A HREF="#OPTANGHA">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
	OPTANG

PURPOSE:
	Find optimal rotation angle, for equally spaced beams,
	as given source tracks across the sky on given date.
	Assumes ALFALFA beam configuration layout. See:
	http://www.astro.cornell.edu/~galaxy/docs/figbeams.pdf
  
	Given an input date and position on the sky (J2000),
	OPTANG tracks the source across the sky and calculates
	the rotation angle which optimizes the equal spacing of
	ALFA beam tracks for drift modes.

SYNTAX:   
	OPTANG,yymmdd,lmstHHMMSS,raHHMMSS,decDDMMS

INPUTS:
	yymmdd:     long    desired date for calculation, in yymmdd format
	lmstHHMMSS: long    local mean sidereal time, in hhmmss format
	raHHMMSS:   long    source RA in J2000, in hhmmss format
	decDDMMSS:  long    source Dec in J2000, in ddmmss format

OUTPUTS:
	nothing; prints to screen

EXAMPLE:
	optang,041128L,081300L,093210L,212003L

MODIFICATION HISTORY:
	13Nov04  Originally written by the Cornell EGGfolks
	28Nov04  Updated to include more digits input to LMST
	         Corrected JD calculation
	29Nov04  Updated to search ROTANG every 0.5 degree
	02Dec04  Added check of ROTANG limit (is actually 102 deg)
	               and iteration boundaries
	11Dec04  Added return of paraangl to guess_rotang


PROCEDURES USED:   
	Phil's aoidl routines       aoidl
       avebmoff.pro                eggidl/gen
       guess_rotang.pro            eggidl/gen

</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/optang.pro)</STRONG><P>
<HR>
 
<A NAME="OPTANGHA">
<H2>OPTANGHA</H2></A>
<A HREF="#OPTANG">[Previous Routine]</A>
<A HREF="#OPTANGTAB">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
	OPTANGHA

PURPOSE:
	Find optimal rotation angle, for equally spaced beams,
	as given source tracks across the sky on given date.
	Assumes ALFALFA beam configuration layout. See:
	http://www.astro.cornell.edu/~galaxy/docs/figbeams.pdf.

	Given an input date and position on the sky (J2000), OPTANGHA
	tracks the source across the sky and calculates the rotation angle
	which optimizes the equal spacing of ALFA beam tracks for drift modes.

SYNTAX:
	OPTANGHA,yymmdd,ha,raHHMMSS,decDDMMSS

INPUTS:
	ha - hour angle in degrees.
	yymmdd - long - desired date for calculation, in yymmdd format.
	raHHMMSS - long - source RA in J2000, in hhmmss format.
	decDDMMSS - long - source Dec in J2000, in ddmmss format.

OUTPUTS:
	None; prints to screen.

EXAMPLE:  
	optangha,041128L,-1.5D,093210L,212003L


MODIFICATION HISTORY:

	13Nov04  Originally written by the Cornell EGGfolks
	28Nov04  Updated to correct JD via addtime
	11Dec04  Added return of paraang from guess_rotang


PROCEDURES USED:   
	Phil's aoidl routines       aoidl
       avebmoff.pro                eggidl/gen
       guess_rotang.pro            eggidl/gen

</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/optangha.pro)</STRONG><P>
<HR>
 
<A NAME="OPTANGTAB">
<H2>OPTANGTAB</H2></A>
<A HREF="#OPTANGHA">[Previous Routine]</A>
<A HREF="#READ_2MASS">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
	OPTANGTAB

PURPOSE:
	Finds optimal rotation angle, for equally spaced beams,
	as given source tracks across the sky on given date.
	Output table with parameters for diurnal track.
	Assumes ALFALFA beam configuration layout. See:
	http://www.astro.cornell.edu/~galaxy/docs/figbeams.pdf

	Given an input date and position on the sky (J2000),
	OPTANG tracks the source across the sky and calculates
	the rotation angle which optimizes the equal spacing of
	ALFA beam tracks for drift modes.

SYNTAX:   
	OPTANGTAB,yymmdd,raHHMMSS,decDDMMSS

INPUTS:
	yymmdd:     long    desired date for calculation, in yymmdd format
	raHHMMSS:   long    source RA in J2000, in hhmmss format
	decDDMMSS:  long    source Dec in J2000, in ddmmss format

OUTPUTS:
	nothing; output printed to screen

EXAMPLE:
	optangtab,041128L,093210L,212003L

MODIFICATION HISTORY:

05Nov04  Originally written by the Cornell EGGfolks
12Nov04  Added documentation  (mph)
13Nov04  Added call to guess_rotang (mph)
11Dec04  Added return of paraang from guess_rotang

PROCEDURES USED:
	Phil's aoidl routines       aoidl
       idlastro routines           
       avebmoff.pro                eggidl/gen
       guess_rotang.pro            eggidl/gen
  
</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/optangtab.pro)</STRONG><P>
<HR>
 
<A NAME="READ_2MASS">
<H2>READ_2MASS</H2></A>
<A HREF="#OPTANGTAB">[Previous Routine]</A>
<A HREF="#READ_ALFALFACAT">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
       READ_2MASS

PURPOSE:
       To take a textfile that is output from a multi-object
       retrieval from the 2MASS GATOR query service and read it into
       an IDL structure.

SYNTAX:
       READ_2MASS, '2mass.txt', outcat

INPUTS:
       infile - the full name of an input text file containing the
                results of a multi-object query of 2MASS

OUTPUTS:
       outcat - the name of the output structure the 2MASS results
                will be read into.  

EXAMPLE:
       read_2mass,'/home/humacao/humacao1/betsey/twomass_sources.txt',twomasscat

NOTES:
       This is designed to get the result of a 2MASS query into a
       format that can be manipulated within IDL.  This is a step in
       the process of matching ALFALFA objects with 2MASS detections.

       IMPORTANT! This presumes you have done a global replace of all
       'null' values with ' -99' (or a similarly valued placeholder
       with four spaces) for formatting reasons

REVISION HISTORY:
       Written B. Adams  July 2007
       Revised B. Adams  August 2007 to allow variance in number of columns

</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/read_2mass.pro)</STRONG><P>
<HR>
 
<A NAME="READ_ALFALFACAT">
<H2>READ_ALFALFACAT</H2></A>
<A HREF="#READ_2MASS">[Previous Routine]</A>
<A HREF="#READ_CSV_SDSS">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
       READ_ALFALFACAT
PURPOSE:
       To take a catalog in text format produced from the ALFALFA
       pipeline and read it into an idl structure.  This is to allow
       easy manipulation of observables and cross reference to other
       catalogs from large surveys.

       This routine takes an input file, checks for the number of
       lines and reads into a structure.  Note that this is formatted
       to expect the standard ALFALFA catalog.  This will ignore any
       lines commented out with a pound sign.

SYNTAX:
       READ_ALFALFACAT, 'catalog.dat', outcat

INPUTS:
       infile - the full name of an input file in ALFALFA catalog
                format, including directory structure

OUTPUTS:
       outcat - the name of the output structure which contains all
                the information from the input catalog.

EXAMPLE:
       read_alfalfacat,'/home/humacao/humacao1/betsey/CR1_catalog.dat',testcat

NOTES:

REVISION HISTORY:
       Written B. Adams  July 2007

</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/read_alfalfacat.pro)</STRONG><P>
<HR>
 
<A NAME="READ_CSV_SDSS">
<H2>READ_CSV_SDSS</H2></A>
<A HREF="#READ_ALFALFACAT">[Previous Routine]</A>
<A HREF="#SC">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
       READ_CSV_SDSS

PURPOSE:
       To take a CSV file and read it into an idl structure.  Tag
       names are pulled from the first row which is assumed to be a
       header.

SYNTAX:
       READ_CSV, infile, data

INPUTS:
       infile - a CSV formatted file where the first line is a header

OUTPUTS:
       data - the output structure to read the CSV file into

EXAMPLE:
       read_csv, 'home/humacao/humacao1/betsey/results-1.csv', sdss

NOTES:

REVISION HISTORY:
       Written B. Adams August 2007

</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/read_csv_sdss.pro)</STRONG><P>
<HR>
 
<A NAME="SC">
<H2>SC</H2></A>
<A HREF="#READ_CSV_SDSS">[Previous Routine]</A>
<A HREF="#SFEROD">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
	SC
PURPOSE:
	Converts from Spherical to Cartesian coordinates.

SYNTAX:
	SC, rar, decr, rad, x, y, z

INPUTS:
	rar - RA in radians
	decr - Dec in radians
	rad - the radius of the sphere of interest

OUTPUTS:
	x - x value
	y - y value
	z - z value

 MODIFICATION HISTORY:
       Written  MH&RG
       Converted to IDL   A.Martin   June 2006
</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/cartcoords.pro)</STRONG><P>
<HR>
 
<A NAME="SFEROD">
<H2>SFEROD</H2></A>
<A HREF="#SC">[Previous Routine]</A>
<A HREF="#SRCVIS">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME: 
	SFEROD

PURPOSE:
	Computes square of cos(inc), assuming different
	intrinsic axial ratios for diff. morph types (Lewis 1980)

SYNTAX: 
	result=SFEROD(bovera,hgtype)

INPUTS: 
	bovera - the visual ratio
	hgtype - HG type
OUTPUTS: 
	sferodout - used by INCLINATION

MODIFICATION HISTORY:
       Written  MH&RG
       Converted to IDL   A.Martin   June 2006
</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/inclination.pro)</STRONG><P>
<HR>
 
<A NAME="SRCVIS">
<H2>SRCVIS</H2></A>
<A HREF="#SFEROD">[Previous Routine]</A>
<A HREF="#SSGC">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
	SRCVIS

PURPOSE:
	Determines whether a source is visible in the Arecibo sky
	on a given data, and returns the az, za of the source.

SYNTAX:
	SRCVIS,yymmdd,rcv,raHHMMSS,decDDMMSS,az,za

INPUTS:
	yymmdd - date
	rcv - 17 for ALFA!
	raHHMMSS - RA of source in HHMMSS format
	decDDMMSS - Dec of source in DDMMSS format

OUTPUTS:
	az, za - coordinates for AO.

MODIFICATION HISTORY:
       Cornell EGGfolks 31Oct04
</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/srcvis.pro)</STRONG><P>
<HR>
 
<A NAME="SSGC">
<H2>SSGC</H2></A>
<A HREF="#SRCVIS">[Previous Routine]</A>
<A HREF="#TYPEESGC">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME:
	SSGC
PURPOSE:
	Converts from SG Sphericals to Cartesians

SYNTAX:
	SSGC, sglr, sgbr, rad, sgx, sgy, sgz

INPUTS:
	sglr - spherical SG long in radians
	sgbr - spherical SG lat in radians 
	rad - the radius of the sphere of interest
	

OUTPUTS:
	sgx - x value result from SG conversion
	sgy - y value result
	sgz - z value result

MODIFICATION HISTORY:
       Written  MH&RG
       Converted to IDL   A.Martin   June 2006
</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/cartcoords.pro)</STRONG><P>
<HR>
 
<A NAME="TYPEESGC">
<H2>TYPEESGC</H2></A>
<A HREF="#SSGC">[Previous Routine]</A>
<A HREF="#TYPEREVERT">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME: 
	TYPEESGC

 PURPOSE:
	Converts from Burstein numerical coding of Nilson's UGC
	morphological types to a 0-10 (E-pec) scale plus a BAR flag.
	Galaxies w hich do not fit well on this scale (e.g. compacts) are
	assigned HGTYPE=11.
	See notes below for a description of Burstein types.
	Was updated in 1/88 to account for new types:

             12  :  used for Nilson's (and Giovanelli's)  "S..."
             13  :   "    "     "       "       "         "..."
             14  :  these are compact-looking galaxies which do not
                    look like E's or S0's, i.e. the impression is
                    that their photometric profile is not as
                    strongly concentrated as a bulge; they are
                    typically small, (less than 0.5') and could be
                    burned out SB spirals, BCD's or others of the
                    same sort. They are good candidates for finding
                    HI (and are often strong FIR sources).
             99  :  untyped

	Also updated to accommodate deVaucouleurs system used by Corwin in ESGC.

 SYNTAX:
	TYPEESGC,bsteintype, hgtype, bar

 INPUTS:
	bsteintype - Burstein type - integer

 OUTPUTS:
	hgtype	- HG type
	bar - variable designating status - 'B' for barred galaxies, '' otherwise

 MODIFICATION HISTORY:
       Written  MH&RG
       Converted to IDL   A.Martin   June 2006

 NOTES:
     Burstein's system:   0  untyped
                         10  E, dwarf E
                         11  dE    (Virgo BST class)
                         15  E-S0
                         90  dS0       91  dSB0
                        100  S0       101  SB0     102  SAB0
                        110  S0-a     111  SB0-a   112  S0-a/SB0-a
                        120  Sa       121  SBa     122  Sa/SBa
                        130  Sa-b     131  SBa-b   132  Sa/SBb
                        140  Sb       141  SBb     142  Sb/SBb
                        150  Sb-c     151  SBb-c   152  SBb/Sc, Sb/SBc
                        160  Sc       161  SBc     162  Sc/SBc
                        170  Scd      171  SBcd    172  Scd/SBcd
                        180  Sd       181  SBd     182  Sd/SBd
                        200  Irr      201  IB      202  I/IB
                        210  Im       211  IBm     212  Im/Ibm
                        300  S...     301  SB...   302 SAB...
                                      305  SB...  DB original
                        310  Sm       311  SBm     312  SABm     
                        320  S IV, IV-V, etc.   330  SB IV, IV-V, etc.
                        400  dwarf
                        410  BCD
                        500  compact
                        600  multiple system
                        650  typed galaxy + companion (e.g. "E + comp")
                        700  peculiar, disturbed, disrupted, eruptive
                        710  IO
                        900  ...
</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/typeesgc.pro)</STRONG><P>
<HR>
 
<A NAME="TYPEREVERT">
<H2>TYPEREVERT</H2></A>
<A HREF="#TYPEESGC">[Previous Routine]</A>
<A HREF="#VHEL_TO_CMB[1]">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
NAME: 
	TYPEREVERT

PURPOSE:
	Reverts to Burstein type from HG type; obviously, the results
	are not so fine-tuned as are true UGC types

SYNTAX: 
	TYPEREVERT,hgtype,bar,bsteintype

 INPUTS:
	hgtype - HG type - integer
	bar - variable designating status - 'B' for barred galaxies, '' otherwise

 OUTPUTS:
	bsteintype - Burstein type - integer. See TYPEESGC for a description of Burstein types.

MODIFICATION HISTORY:
       Written  MH&RG
       Converted to IDL   A.Martin   June 2006
</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/typeesgc.pro)</STRONG><P>
<HR>
 
<A NAME="VHEL_TO_CMB[1]">
<H2>VHEL_TO_CMB[1]</H2></A>
<A HREF="#TYPEREVERT">[Previous Routine]</A>
<A HREF="#VHEL_TO_CMB[2]">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:  
       VHEL_TO_CMB

 PURPOSE:
        Calculate the projection along the LOS velocity wrt to the CMB velocity

 EXPLANATION:
       Function takes lb coordinates to compute the projection along 
       the LOS velocity wrt to the CMB velocity.  Quite simple.

 SYNTAX: 
       result=VHEL_TO_CMB(l,b)

 INPUT PARAMETERS: 
       l:  galactic longitude in degrees
       b:  galactic latitude in degrees

 OUTPUT PARAMETERS: ;
      result - CMB velocity projected along the line of sight.
              
 EXAMPLES:

      IDL> print,  35344+vhel_to_cmb(112.62994,-25.039215)
            You should get:  35031.226

	Comments from original FORTRAN program:

	"Computes the component, in the direction of
	a given galaxy, of the motion of the Sun with
	respect to the Local Universe. Source for velocities
	and directions : Kogut et al. 1993 (ApJ 419,1)
       Also added the Lineweaver 1996 paper.

	Assumes you have already converted RA,Dec to l,b IN DEGREES!
	Be sure to put a declaration statement like
	REAL Vhel_to_CMB(GLONGR,GLATR)
	in your main program. and then something like:
	vcmb = vhelio + VHEL_to_CMB(glr,gbr)."


 HISTORY: 
       FORTRAN subroutine by R. Giovanelli, M.P. Haynes
       Conversion to IDL, B. Kent, Cornell University, 2006
</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/flowmodel_dist.pro)</STRONG><P>
<HR>
 
<A NAME="VHEL_TO_CMB[2]">
<H2>VHEL_TO_CMB[2]</H2></A>
<A HREF="#VHEL_TO_CMB[1]">[Previous Routine]</A>
<A HREF="#ZBRAKVEL">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:  
       VHEL_TO_CMB

 PURPOSE:
        Calculate the projection along the LOS velocity wrt to the CMB velocity

 EXPLANATION:
       Function takes lb coordinates to compute the projection along 
       the LOS velocity wrt to the CMB velocity.  Quite simple.

 SYNTAX: 
       result=VHEL_TO_CMB(l,b)

 INPUT PARAMETERS: 
       l:  galactic longitude in degrees
       b:  galactic latitude in degrees

 OUTPUT PARAMETERS: ;
      result - CMB velocity projected along the line of sight.
              
 EXAMPLES:

      IDL> print,  35344+vhel_to_cmb(112.62994,-25.039215)
            You should get:  35031.226

	Comments from original FORTRAN program:

	"Computes the component, in the direction of
	a given galaxy, of the motion of the Sun with
	respect to the Local Universe. Source for velocities
	and directions : Kogut et al. 1993 (ApJ 419,1)
       Also added the Lineweaver 1996 paper.

	Assumes you have already converted RA,Dec to l,b IN DEGREES!
	Be sure to put a declaration statement like
	REAL Vhel_to_CMB(GLONGR,GLATR)
	in your main program. and then something like:
	vcmb = vhelio + VHEL_to_CMB(glr,gbr)."


 MODIFICATION HISTORY: 
       FORTRAN subroutine by R. Giovanelli, M.P. Haynes
       Conversion to IDL, B. Kent, Cornell University, 2006
</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/vhel2cmb.pro)</STRONG><P>
<HR>
 
<A NAME="ZBRAKVEL">
<H2>ZBRAKVEL</H2></A>
<A HREF="#VHEL_TO_CMB[2]">[Previous Routine]</A>
<A HREF="#ZBRENTVEL">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	ZBRAKVEL

 PURPOSE:
	NOTE: This is NOT the original ZBRAK; it has been altered to allow
	functions which call FOUR arguments (3 in addition to X).

	THIS VERSION OF ZBRAK IS TAILORED TO THE FUNCTION MYDELTAV.

	Bracket a zero that ZBRENT can then identify. Given a function FX
	defined on the interval from x1 to x2, ZBRAK subdivides the interval
	into n equally spaced segments and searches for zero-crossings of the
	function. nb is an input, specifying the number of roots sought, and
	is reset in the end to the number of bracketing pairs (xb1,xb2) that
	are found by the function.

 EXPLANATION:
	This routine "looks inward," starting from an initial interval, to
	identify regions where a function changes sign.
	Adapted from procedure of the same name in "Numerical Recipes" by
	Press et al. (1992), Section 9.1

 SYNTAX:
       ZBRAKVEL, x1, x2, n, nb, xb1, xb2, nfound, sgl, sgb, vgal, FUNC_NAME="name" 

 INPUTS:
       x1, x2 - scalars, 2 points which bracket location of function zero,
                                               that is, F(x1) < 0 < F(x2).
	n - the number of intervals into which the function will divide the
						bracketed region.
	nb - the number of roots sought

	sgl, sgb, vgal - deltav requires these inputs
	

 REQUIRED INPUT KEYWORD:
       FUNC_NAME = function name (string)

 OUTPUTS:
       xb1, xb2 - arrays specifying the bracketing pairs for ZBRENT.
	nfound - the number of solutions found.


 MODIFICATION HISTORY:
       Converted to IDL from Num. Rec.   A. Martin   June 2006
	Modified for specific function mydeltav.
</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/flowmodel_dist.pro)</STRONG><P>
<HR>
 
<A NAME="ZBRENTVEL">
<H2>ZBRENTVEL</H2></A>
<A HREF="#ZBRAKVEL">[Previous Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	ZBRENTVEL

 PURPOSE:
	NOTE: This is NOT the original ZBRENT; it has been altered to allow
	functions which FOUR arguments (3 in addition to X)

	THIS VERSION IS TAILORED TO THE FUNCTION MYDELTAV

	Find the zero of a 1-D function up to specified tolerance.

 EXPLANATION:
	This routine assumes that the function is known to have a zero.
	Adapted from procedure of the same name in "Numerical Recipes" by
	Press et al. (1992), Section 9.3

 SYNTAX:
	result = ZBRENTVEL( x1, x2, sgl, sgb, vgal, FUNC_NAME="name" )

 INPUTS:
       x1, x2 = scalars, 2 points which bracket location of function zero,
                                               that is, F(x1) < 0 < F(x2).
       Note: computations are performed with
       same precision (single/double) as the inputs and user supplied function.

 REQUIRED INPUT KEYWORD:
       FUNC_NAME = function name (string)
               Calling mechanism should be:  F = func_name( px, sgl, sgb, vgal )

 OPTIONAL INPUT KEYWORD:
       MAX_ITER = maximum allowed number iterations, default=100.
       TOLERANCE = desired accuracy of minimum location, default = 1.e-3.
			NOTE: AM 2006: new version defaults to 1.e-4.

 OUTPUTS:
       Returns the location of zero, with accuracy of specified tolerance.

 PROCEDURE:
       Brent's method to find zero of a function by using bracketing,
       bisection, and inverse quadratic interpolation.

 MODIFICATION HISTORY:
       Written, Frank Varosi NASA/GSFC 1992.
       FV.1994, mod to check for single/double prec. and set zeps accordingly.
       Converted to IDL V5.0   W. Landsman   September 1997
	Altered by A. Martin	June 2006	to change the default tolerance to 1.e-4
						Modified for specific function mydeltav
</PRE><P>
<STRONG>(See /home/dorado3/galaxy/eggidl/gen/flowmodel_dist.pro)</STRONG><P>
<HR>
 
</body>
</html>
